<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Highcharts Background Image</title>
  <!-- Include Highcharts library -->
  <script src="https://code.highcharts.com/highcharts.js"></script>
</head>
<body>

<div id="container" style="height: 400px"></div>

<script>
// Sample data
var data = [
  [0, 10],
  [1, 20],
  [2, 30],
  [3, 40],
  [4, 50],
  [5, 60],
  [6, 70],
  [7, 80],
  [8, 90],
  [9, 100]
];

// Create the chart
var chart = Highcharts.chart('container', {
  chart: {
    type: 'line',
    events: {
      load: function () {
        var yAxis = this.yAxis[0];
        var chart = this;

        // Set initial background image
        setBackgroundImage(yAxis.getExtremes().dataMin);
        
        // Listen to redraw event to update background image
        chart.redraw(function () {
          setBackgroundImage(yAxis.getExtremes().dataMin);
        });
      }
    }
  },
  title: {
    text: 'Chart with Background Image'
  },
  xAxis: {
    title: {
      text: 'X-axis'
    }
  },
  yAxis: {
    title: {
      text: 'Y-axis'
    }
  },
  series: [{
    data: data,
    name: 'Sample Data'
  }]
});

// Function to set background image based on Y-axis value
function setBackgroundImage(value) {
  if (value < 50) {
    chart.chartBackground.css({
      'background-image': 'url("https://fv9-7.failiem.lv/down.php?i=fnyxwaa9b&view")'
    });
  } else {
    chart.chartBackground.css({
      'background-image': 'url("https://fv9-7.failiem.lv/down.php?i=fnyxwaa9b&view")'
    });
  }
}
</script>

</body>
</html>
